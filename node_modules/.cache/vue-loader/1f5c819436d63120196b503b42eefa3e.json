{"remainingRequest":"C:\\Users\\wenyi\\Desktop\\BT3103-Project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wenyi\\Desktop\\BT3103-Project\\src\\components\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wenyi\\Desktop\\BT3103-Project\\src\\components\\Dashboard.vue","mtime":1618827088650},{"path":"C:\\Users\\wenyi\\Desktop\\BT3103-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wenyi\\Desktop\\BT3103-Project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\wenyi\\Desktop\\BT3103-Project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wenyi\\Desktop\\BT3103-Project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBsb2dvIGZyb20gIi4uL2Fzc2V0cy9sb2dvMi5wbmciDQppbXBvcnQgZW5nYWdpbmdiYXJjaGFydCBmcm9tICcuLi9lbmdhZ2luZ2JhcmNoYXJ0LmpzJw0KaW1wb3J0IGNvbW11bmljYXRpb25iYXJjaGFydCBmcm9tICcuLi9jb21tdW5pY2F0aW9uYmFyY2hhcnQuanMnDQppbXBvcnQgbGlzdGVuaW5nYmFyY2hhcnQgZnJvbSAnLi4vbGlzdGVuaW5nYmFyY2hhcnQuanMnDQppbXBvcnQgcGF0aWVuY2ViYXJjaGFydCBmcm9tICcuLi9wYXRpZW5jZWJhcmNoYXJ0LmpzJw0KaW1wb3J0IHJhZGFyY2hhcnQgZnJvbSAnLi4vcmFkYXJjaGFydC5qcycNCmltcG9ydCBsaW5lY2hhcnQgZnJvbSAnLi4vbGluZWNoYXJ0LmpzJw0KaW1wb3J0IGZpcmViYXNlIGZyb20gJy4uL2ZpcmViYXNlLmpzJw0KdmFyIGRhdGFiYXNlID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnRGFzaGJvYXJkJywNCiAgICANCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgdHV0b3I6IHt9LA0KICAgICAgICAgICAgYXZnU2NvcmVzOiBbXSwNCiAgICAgICAgICAgIHByb2ZpbGVWaWV3czogMCwNCiAgICAgICAgICAgIGNvbnRhY3RDbGlja3M6IDAsDQogICAgICAgICAgICBhdmdEYWlseVByb2ZpbGVWaWV3czogW10sDQogICAgICAgICAgICBjb250YWN0VG9Qcm9maWxlUmF0aW86IFtdLA0KICAgICAgICAgICAgbG9nbzogbG9nbw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZmV0Y2hUdXRvcjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdwcm9maWxlcycpLmRvYyhmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIudWlkKS5nZXQoKS50aGVuKChxdWVyeVNuYXBTaG90KSA9PiB7DQogICAgICAgICAgICAgICAgdmFyIHR1dG9yICA9IHF1ZXJ5U25hcFNob3QuZGF0YSgpOw0KICAgICAgICAgICAgICAgIHRoaXMudHV0b3IgPSB0dXRvcjsNCiAgICAgICAgICAgICAgICB2YXIgZW5nYWdpbmdMaXN0ID0gdHV0b3IuZW5nYWdpbmc7DQogICAgICAgICAgICAgICAgdmFyIGNvbW11bmljYXRpb25MaXN0ID0gdHV0b3IuY29tbXVuaWNhdGlvbjsNCiAgICAgICAgICAgICAgICB2YXIgbGlzdGVuaW5nTGlzdCA9IHR1dG9yLmxpc3RlbmluZzsNCiAgICAgICAgICAgICAgICB2YXIgcGF0aWVuY2VMaXN0ID0gdHV0b3IucGF0aWVuY2U7DQogICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3RzID0gW2VuZ2FnaW5nTGlzdCwgY29tbXVuaWNhdGlvbkxpc3QsIGxpc3RlbmluZ0xpc3QsIHBhdGllbmNlTGlzdF0NCiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTw0OyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBhdHRyaWJ1dGVMaXN0c1tpXTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHN1bVJhdGluZ3MgPSAwOw0KICAgICAgICAgICAgICAgICAgICB2YXIgbnVtUmF0aW5ncyA9IDA7DQogICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUxpc3QuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdW1SYXRpbmdzICs9IHZhbHVlKihpbmRleCsxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG51bVJhdGluZ3MgKz0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBNYXRoLnJvdW5kKCAoKHN1bVJhdGluZ3MvbnVtUmF0aW5ncykgKyBOdW1iZXIuRVBTSUxPTikgKiAxMCkgLyAxMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5hdmdTY29yZXMgPSBkYXRhOw0KICAgICAgICAgICAgICAgIHRoaXMucHJvZmlsZVZpZXdzID0gdHV0b3IucHJvZmlsZVZpZXdzOw0KICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdENsaWNrcyA9IHR1dG9yLmNvbnRhY3RDbGlja3M7DQogICAgICAgICAgICAgICAgdGhpcy5jb250YWN0VG9Qcm9maWxlUmF0aW8gPSB0aGlzLnJlZHVjZSh0dXRvci5jb250YWN0Q2xpY2tzLCB0dXRvci5wcm9maWxlVmlld3MpOw0KICAgICAgICAgICAgICAgIHRoaXMucmF0aW9QZXJjZW50ID0gKHR1dG9yLmNvbnRhY3RDbGlja3MgLyB0dXRvci5wcm9maWxlVmlld3MpICogMTAwOw0KICAgICAgICAgICAgICAgIHRoaXMucmF0aW9QZXJjZW50ID0gTWF0aC5yb3VuZCggKCh0aGlzLnJhdGlvUGVyY2VudCkgKyBOdW1iZXIuRVBTSUxPTikgKiAxMDApIC8gMTAwOw0KICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gTWF0aC5hYnModG9kYXkgLSB0dXRvci5jcmVhdGVEYXRlLnRvRGF0ZSgpKTsNCiAgICAgICAgICAgICAgICB2YXIgZGF5RGlmZiA9IE1hdGguY2VpbCh0aW1lRGlmZiAvICgxMDAwKjYwKjYwKjI0KSk7DQogICAgICAgICAgICAgICAgdGhpcy5hdmdEYWlseVByb2ZpbGVWaWV3cyA9IFtNYXRoLmZsb29yKHR1dG9yLnByb2ZpbGVWaWV3cyAvIGRheURpZmYpLCBNYXRoLmNlaWwodHV0b3IucHJvZmlsZVZpZXdzIC8gZGF5RGlmZildOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCg0KICAgICAgICByZWR1Y2U6IGZ1bmN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpIHsNCiAgICAgICAgICAgIHZhciBnY2QgPSB0aGlzLmdjZChudW1lcmF0b3IsIGRlbm9taW5hdG9yKTsNCiAgICAgICAgICAgIHJldHVybiBbbnVtZXJhdG9yL2djZCwgZGVub21pbmF0b3IvZ2NkXTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvL0dyZWF0ZXN0IENvbW1vbiBEaXZpc29yIGZ1bmN0aW9uIHVzaW5nIEV1Y2xpZGVhbiBBbGdvcml0aG0NCiAgICAgICAgZ2NkOiBmdW5jdGlvbihhLGIpIHsNCiAgICAgICAgICAgIHdoaWxlIChiKSB7DQogICAgICAgICAgICAgICAgdmFyIHIgPSBhJWI7DQogICAgICAgICAgICAgICAgYSA9IGI7DQogICAgICAgICAgICAgICAgYiA9IHI7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gYTsNCiAgICAgICAgfSwNCg0KICAgIH0sDQoNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgICdlbmdhZ2luZy1iYXItY2hhcnQnOiBlbmdhZ2luZ2JhcmNoYXJ0LA0KICAgICAgICAnY29tbXVuaWNhdGlvbi1iYXItY2hhcnQnOiBjb21tdW5pY2F0aW9uYmFyY2hhcnQsDQogICAgICAgICdsaXN0ZW5pbmctYmFyLWNoYXJ0JzogbGlzdGVuaW5nYmFyY2hhcnQsDQogICAgICAgICdwYXRpZW5jZS1iYXItY2hhcnQnOiBwYXRpZW5jZWJhcmNoYXJ0LA0KICAgICAgICAncmFkYXItY2hhcnQnOiByYWRhcmNoYXJ0LA0KICAgICAgICAnbGluZS1jaGFydCc6IGxpbmVjaGFydA0KICAgIH0sDQoNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmZldGNoVHV0b3IoKTsNCiAgICB9DQogICAgDQp9DQoNCg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"Dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <img :src=\"logo\" />\r\n        <nav>\r\n            <ul class=\"navbar\" style=\"list-style-type: none;\">\r\n                <li><router-link to=\"/HomeStudent\">Home</router-link></li>\r\n                <li><router-link to=\"/ProfileStudent\">Profile</router-link></li>\r\n                <li><router-link to=\"/CalendarStudent\">Calendar</router-link></li>\r\n                <li><router-link to=\"/browseTutor\">Browse Tutors</router-link></li>\r\n            </ul>\r\n        </nav>\r\n        <h1>Welcome to your Dashboard, {{ tutor.last_name }}</h1>\r\n\r\n        <div class='row'>\r\n            <div class='column clickMetrics'>\r\n                <p class='clickMetricTitle'>Total Profile Views</p>\r\n                <div class='clickMetricsText'>{{ profileViews }}</div>\r\n            </div>\r\n            <div class='column clickMetrics'>\r\n                <p class='clickMetricTitle'>Avg. Daily Profile Views</p>\r\n                <div class='clickMetricsText'>{{ avgDailyProfileViews[0] }} - {{ avgDailyProfileViews[1] }}</div>\r\n            </div>\r\n            <div class='column clickMetrics'>\r\n                <p class='clickMetricTitle'>Total Contact Clicks</p>\r\n                <div class='clickMetricsText'>{{ contactClicks }}</div>\r\n            </div>\r\n            <div class='column clickMetrics'>\r\n                <p class='clickMetricTitle'>Contact Click : Profile View</p>\r\n                <div class='clickMetricsText'>{{ contactToProfileRatio[0] }} : {{ contactToProfileRatio[1] }}</div>\r\n                <div id='ratioPercent'>({{ ratioPercent }}%)</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div id='lineChart'>\r\n            <line-chart></line-chart>\r\n        </div>\r\n\r\n        <div class='row'>\r\n            <div class='column'><radar-chart></radar-chart></div>\r\n            <div class='column'>\r\n                <div class='row'>\r\n                    <div class='column avgRating'>\r\n                        <h2>Engaging</h2>\r\n                        <div class='avgRatingText'>{{ avgScores[0] }}</div>\r\n                    </div>\r\n                    <div class='column avgRating'>\r\n                        <h2>Communication</h2>\r\n                        <div class='avgRatingText'>{{ avgScores[1] }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class='row'>\r\n                    <div class='column avgRating'>\r\n                        <h2>Listening</h2>\r\n                        <div class='avgRatingText'>{{ avgScores[2] }}</div>\r\n                    </div>\r\n                    <div class='column avgRating'>\r\n                        <h2>Patience</h2>\r\n                        <div class='avgRatingText'>{{ avgScores[3] }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class='row'>\r\n            <div class='column'><engaging-bar-chart></engaging-bar-chart></div>\r\n            <div class='column'><communication-bar-chart></communication-bar-chart></div>\r\n        </div>\r\n        <div class='row'>\r\n            <div class='column'><listening-bar-chart></listening-bar-chart></div>\r\n            <div class='column'><patience-bar-chart></patience-bar-chart></div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport logo from \"../assets/logo2.png\"\r\nimport engagingbarchart from '../engagingbarchart.js'\r\nimport communicationbarchart from '../communicationbarchart.js'\r\nimport listeningbarchart from '../listeningbarchart.js'\r\nimport patiencebarchart from '../patiencebarchart.js'\r\nimport radarchart from '../radarchart.js'\r\nimport linechart from '../linechart.js'\r\nimport firebase from '../firebase.js'\r\nvar database = firebase.firestore();\r\n\r\nexport default {\r\n    name: 'Dashboard',\r\n    \r\n    data() {\r\n        return {\r\n            tutor: {},\r\n            avgScores: [],\r\n            profileViews: 0,\r\n            contactClicks: 0,\r\n            avgDailyProfileViews: [],\r\n            contactToProfileRatio: [],\r\n            logo: logo\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        fetchTutor: function() {\r\n            database.collection('profiles').doc(firebase.auth().currentUser.uid).get().then((querySnapShot) => {\r\n                var tutor  = querySnapShot.data();\r\n                this.tutor = tutor;\r\n                var engagingList = tutor.engaging;\r\n                var communicationList = tutor.communication;\r\n                var listeningList = tutor.listening;\r\n                var patienceList = tutor.patience;\r\n                var attributeLists = [engagingList, communicationList, listeningList, patienceList]\r\n                var data = [];\r\n                for (var i=0; i<4; i++) {\r\n                    var attributeList = attributeLists[i];\r\n                    var sumRatings = 0;\r\n                    var numRatings = 0;\r\n                    attributeList.forEach((value, index) => {\r\n                        sumRatings += value*(index+1);\r\n                        numRatings += value;\r\n                    })\r\n                    data[i] = Math.round( ((sumRatings/numRatings) + Number.EPSILON) * 10) / 10;\r\n                }\r\n                this.avgScores = data;\r\n                this.profileViews = tutor.profileViews;\r\n                this.contactClicks = tutor.contactClicks;\r\n                this.contactToProfileRatio = this.reduce(tutor.contactClicks, tutor.profileViews);\r\n                this.ratioPercent = (tutor.contactClicks / tutor.profileViews) * 100;\r\n                this.ratioPercent = Math.round( ((this.ratioPercent) + Number.EPSILON) * 100) / 100;\r\n                var today = new Date();\r\n                var timeDiff = Math.abs(today - tutor.createDate.toDate());\r\n                var dayDiff = Math.ceil(timeDiff / (1000*60*60*24));\r\n                this.avgDailyProfileViews = [Math.floor(tutor.profileViews / dayDiff), Math.ceil(tutor.profileViews / dayDiff)];\r\n            })\r\n        },\r\n\r\n        reduce: function(numerator, denominator) {\r\n            var gcd = this.gcd(numerator, denominator);\r\n            return [numerator/gcd, denominator/gcd];\r\n        },\r\n\r\n        //Greatest Common Divisor function using Euclidean Algorithm\r\n        gcd: function(a,b) {\r\n            while (b) {\r\n                var r = a%b;\r\n                a = b;\r\n                b = r;\r\n            }\r\n            return a;\r\n        },\r\n\r\n    },\r\n\r\n    components: {\r\n        'engaging-bar-chart': engagingbarchart,\r\n        'communication-bar-chart': communicationbarchart,\r\n        'listening-bar-chart': listeningbarchart,\r\n        'patience-bar-chart': patiencebarchart,\r\n        'radar-chart': radarchart,\r\n        'line-chart': linechart\r\n    },\r\n\r\n    created() {\r\n        this.fetchTutor();\r\n    }\r\n    \r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\nnav {\r\n  list-style-type: none;\r\n  margin: 10px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  color: black;\r\n  float: right;\r\n  display: block;\r\n  text-align: center;\r\n  padding: 14px 16px;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n\r\nnav li {\r\n  float: left;\r\n}\r\n\r\nnav a {\r\n  display: block;\r\n  text-align: center;\r\n  padding: 14px 16px;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n\r\nh1 {\r\n    text-align: center;\r\n    font-size: 64px;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n}\r\n\r\n.column {\r\n  flex: 50%;\r\n}\r\n\r\n.avgRating {\r\n    height: 300px;\r\n    width: 300px;\r\n    text-align: center;\r\n    padding: 10px;\r\n    border: 1px solid #222;\r\n    margin: 20px 20px 10px;\r\n    box-sizing: border-box;\r\n    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\r\n    border-radius: 10px;\r\n}\r\n\r\n.avgRating:hover {\r\n    transform: scale(1.01,1.01);\r\n    box-shadow: 0 8px 8px rgba(0, 0, 0, 0.472);\r\n}\r\n\r\n.avgRatingText {\r\n    font-size: 8rem;\r\n    margin-top: 30px;\r\n    font-family: Montserrat;\r\n}\r\n\r\n.clickMetrics {\r\n    height: 240px;\r\n    width: 300px;\r\n    text-align: center;\r\n    padding: 10px;\r\n    border: 1px solid #222;\r\n    margin: 20px 20px 10px;\r\n    box-sizing: border-box;\r\n    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);\r\n    border-radius: 10px;\r\n}\r\n\r\n.clickMetrics:hover {\r\n    transform: scale(1.01,1.01);\r\n    box-shadow: 0 8px 8px rgba(0, 0, 0, 0.472);\r\n}\r\n\r\n.clickMetricsText {\r\n    font-size: 3rem;\r\n    margin-top: 50px;\r\n    font-family: Montserrat;\r\n}\r\n\r\n#ratioPercent {\r\n    font-size: 1.6rem;\r\n    color: #7eca9c;\r\n    font-weight: 600;\r\n    border: 2px solid #7eca9c;\r\n    border-radius: 10px;\r\n    max-width: 40%;\r\n    padding: 3px;\r\n    margin: 0 auto 0;\r\n    font-family: Montserrat;\r\n}\r\n\r\n.clickMetricTitle {\r\n    color: grey;\r\n    font-weight: 900;\r\n    font-family: Montserrat;\r\n    font-size: 1.5rem;\r\n}\r\n\r\n#lineChart {\r\n    margin: 50px 0;\r\n}\r\n\r\n\r\n</style>"]}]}